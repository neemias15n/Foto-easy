<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Foto Easy ‚Äî 3x4 & Polaroid (10√ó15cm) com Texto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Poppins:wght@600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/twemoji@14.0.2/dist/twemoji.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
  <div class="shell">
    <header>
      <div class="logo" title="Foto Easy">
        <svg width="40" height="40" viewBox="0 0 64 64" fill="none" aria-hidden="true">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#7C3AED" />
              <stop offset="1" stop-color="#2563EB" />
            </linearGradient>
          </defs>
          <rect x="8" y="16" width="48" height="36" rx="8" fill="url(#g)" />
          <rect x="14" y="12" width="14" height="8" rx="3" fill="white" opacity=".9" />
          <circle cx="32" cy="34" r="12" fill="white" opacity=".95" />
          <circle cx="32" cy="34" r="8" fill="url(#g)" />
          <circle cx="38" cy="28" r="2.5" fill="#fff" opacity=".9" />
        </svg>
      </div>
      <div>
        <h1>Foto Easy</h1>
      </div>
    </header>

    <nav class="tabs">
      <button class="tab-btn active" data-tab="editor">1) Editor</button>
      <button class="tab-btn" data-tab="sheet">2) Folha 3x4 (10√ó15)</button>
      <button class="tab-btn" data-tab="polaroid">3) Polaroid (por gabarito)</button>
    </nav>

    <!-- Painel: Editor -->
    <section id="editor" class="panel active">
      <div class="row">
        <div class="col">
          <div class="card stack">
            <div class="input">
              <label>Carregar fotos</label>
              <input type="file" id="fileInput" accept="image/*" class="file" multiple />
              <input type="file" accept="image/*" capture="environment" />
              <div class="hint">üí° Dica: Voc√™ pode arrastar imagens de outra aba diretamente aqui! Selecione m√∫ltiplas fotos para polaroids.</div>
            </div>
            <div class="input">
              <label>Fotos carregadas</label>
              <div id="imagePreviews" class="image-previews"></div>
            </div>
            <div class="controls row-center">
              <button class="btn" id="centerBtn">Centralizar</button>
              <label>Zoom</label>
              <input type="range" id="zoom" min="0.25" max="4" step="0.01" value="1" />
              <span class="hint">Dica: arraste para mover</span>
            </div>
            <div class="grid-2">
              <!-- Bloco RemoveBG VIS√çVEL e destacado -->
              <div class="input" id="removeBgBlock">
                <div class="row-center">
                  <button class="btn" id="removeBgBtn">Remover fundo</button>
                  <button class="btn warn" id="restoreBgBtn" title="Voltar para a imagem original">Restaurar</button>
                </div>
              </div>
              <div class="input">
                <label>Cor do fundo para exporta√ß√£o 3x4</label>
                <input type="color" id="bgColor" value="#ffffff" />
              </div>
            </div>
            <div class="divider"></div>
            <div class="input">
              <label>Pr√©-visualiza√ß√£o / Edi√ß√£o</label>
              <canvas id="editorCanvas" width="1181" height="1772"></canvas>
              <div class="hint">10√ó15 cm @ 300 DPI (1181√ó1772 px)</div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card stack">
            <div class="pill">Exporta√ß√µes r√°pidas</div>
            <div class="controls"><button class="btn" id="downloadEditorPng">Baixar PNG do Editor</button></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Painel: Folha 3x4 -->
    <section id="sheet" class="panel">
      <div class="row">
        <div class="col">
          <div class="card stack">
            <div class="pill">Layout 10√ó15 ‚Äî 6 verticais + 4 horizontais (3x4)</div>
            <div class="controls">
              <button class="btn" id="buildSheet">Montar Folha 3x4</button>
              <button class="btn" id="downloadSheetPng">Baixar PNG</button>
              <button class="btn" id="downloadSheetSvg">Baixar SVG</button>
            </div>
            <div class="input">
              <label>Pr√©via da Folha 3x4</label>
              <div id="sheetSvgWrap"></div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card stack">
            <div class="pill">Regras</div>
            <ul class="hint" style="margin:0 0 6px 18px">
              <li>Fundo branco no PNG final.</li>
              <li>Horizontais s√£o rotacionadas automaticamente.</li>
              <li>Exporta 1181√ó1772 px (10√ó15 cm @300 DPI).</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Painel: Polaroid -->
    <section id="polaroid" class="panel">
      <div class="row">
        <div class="col">
          <div class="card stack">
            <div class="pill">Polaroid por gabarito (com texto)</div>
            <div class="controls">
              <label><input type="radio" name="polaroidMode" value="two" checked> Duas polaroids (15√ó10 horizontal)</label>
              <label><input type="radio" name="polaroidMode" value="one"> Uma polaroid (10√ó15 vertical)</label>
            </div>
            <div class="grid-2">
              <div class="input">
                <label>Digite a frase ou link do Spotify</label>
                <div id="txt1ce" contenteditable="true" style="min-height:38px;padding:8px 10px;border:1px solid #cbd5e1;border-radius:6px;outline:none;white-space:pre-wrap;overflow:auto;" placeholder="Ex.: F√©rias 2025 ‚Ä¢ B√∫zios"></div>
                <input id="txt1" type="hidden" />
              </div>
              <div class="input">
                <label>Digite a frase ou link do Spotify</label>
                <div id="txt2ce" contenteditable="true" style="min-height:38px;padding:8px 10px;border:1px solid #cbd5e1;border-radius:6px;outline:none;white-space:pre-wrap;overflow:auto;" placeholder="(usado quando houver 2 polaroids)"></div>
                <input id="txt2" type="hidden" />
              </div>
            </div>
              <div class="emoji-picker">
                <label>Emojis r√°pidos:</label>
                <div class="emoji-grid">
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/red-heart.png" title="Cora√ß√£o">‚ù§Ô∏è</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/sparkles.png" title="Brilhos">‚ú®</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/musical-notes.png" title="M√∫sica">üé∂</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/cherry-blossom.png" title="Flor">üå∏</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/fire.png" title="Fogo">üî•</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/smiling-face.png" title="Sorridente">üòä</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/star.png" title="Estrela">‚≠ê</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/blue-heart.png" title="Cora√ß√£o azul">üíô</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/victory-hand.png" title="Paz">‚úåÔ∏è</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/sun.png" title="Sol">‚òÄÔ∏è</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/crescent-moon.png" title="Lua">üåô</button>
                  <button type="button" class="emoji-btn" data-url="./assets/emojis/hot-beverage.png" title="Caf√©">‚òï</button>
                </div>
                <div class="emoji-controls">
                  <label>Tamanho dos emojis:</label>
                  <div class="size-control">
                    <input type="range" id="emojiSize" min="400" max="800" step="10" value="400">
                    <span class="size-value" id="emojiSizeValue">400px</span>
                  </div>
                </div>
                
              </div>

            </div>
            <div class="controls row-center">
              <div class="font-control">
                <label>Tamanho da fonte</label>
                <div class="size-control">
                  <input type="range" id="txtSize" min="400" max="800" step="10" value="300">
                  <span class="size-value" id="sizeValue">300px</span>
                </div>
              </div>
              
              <div class="font-control">
                <label>Fonte</label>
                <select id="txtFont">
                  <option value="'Dancing Script', cursive">Dancing Script</option>
                  <option value="'Pacifico', cursive">Pacifico</option>
                  <option value="'Great Vibes', cursive">Great Vibes</option>
                  <option value="'Satisfy', cursive">Satisfy</option>
                </select>
              </div>

              <div class="font-control">
                <label>Alinhamento</label>
                <select id="txtAlign">
                  <option value="center" selected>Centro</option>
                  <option value="left">Esquerda</option>
                  <option value="right">Direita</option>
                </select>
              </div>
              
              <div class="font-control">
                <label><input type="checkbox" id="txtUpper"> MAI√öSCULAS</label>
              </div>
            </div>
            <!-- Controles do Spotify Code -->
            <div class="controls row-center" id="spotifyControls" style="display:none">
              <span class="pill">Spotify Code</span>
              <label>Fundo
                <input type="color" id="spBg" value="#7C3AED">
              </label>
              <label>Cor do c√≥digo
                <select id="spFg">
                  <option value="black" selected>Preto</option>
                  <option value="white">Branco</option>
                </select>
              </label>
            </div>
            <div class="controls">
              <button class="btn" id="buildPolaroidSvg">Montar Polaroid</button>
              <button class="btn" id="downloadPolaroidSvgPng">Baixar PNG</button>
              <button class="btn" id="downloadPolaroidSvg">Baixar SVG</button>
            </div>
            <div class="input">
              <label>Pr√©via (gabarito)</label>
              <div id="polaroidSvgWrap"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="footer">Feito com ‚ù§Ô∏è ‚Äî Tudo preparado para impress√£o 10√ó15cm</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
